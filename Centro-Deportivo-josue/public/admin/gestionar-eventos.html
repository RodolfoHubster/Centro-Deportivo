<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestionar Eventos - Admin</title>
  <link rel="stylesheet" href="../css/main.css">
</head>
<body>

  <div id="header-placeholder"></div>


  <!-- CONTENIDO -->
  <main class="page-content">
    <h1>Gestionar Eventos</h1>
    
    <!-- Botón crear nuevo -->
    <button id="btnNuevoEvento">
      Crear Nuevo Evento
    </button>

    <div id="mensaje-respuesta" style="display: none;"></div>


  <!-- Lista de eventos -->
    <div id="lista-eventos">
      <p>Cargando eventos...</p>
    </div>
  </main>

  <div id="modalEvento">
    <div class="admin-modal-contenido">
      <h2 id="tituloModal">Crear Nuevo Evento</h2>

      <form id="formEvento">
        <input type="hidden" id="evento-id" name="id">
        <div class="form-section">
          <h3>Información Básica</h3>
          <div class="form-group">
            <label for="evento-nombre">Nombre del Evento <span class="required">*</span></label>
            <input type="text" id="evento-nombre"  name="Nombre" required
            placeholder="Ej: Torneo de Fútbol 2025">
        
          </div>
        
          <div class="form-group">
            <label for="evento-descripcion">Descripción <span class="required">*</span></label>
            <textarea id="evento-descripcion" name="descripcion" rows="4" required
                      placeholder="Describe el evento, objetivos, premios, etc."></textarea>
          </div>
        </div>

        <div class="form-section">
          <h3>Fechas y Ubicación</h3>
          
          <div class="form-grid">
            <div class="form-group">
              <label for="evento-fecha-inicio">Fecha de Inicio <span class="required">*</span></label>
              <input type="date" name="fecha_inicio" id="evento-fecha-inicio" required>
            </div>
            <div class="form-group">
              <label for="evento-fecha-termino">Fecha de Término <span class="required">*</span></label>
              <input type="date" name="fecha_termino" id="evento-fecha-termino" required>
              <p class="help-text">Puede ser el mismo día que el inicio</p>
            </div>
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label for="evento-campus">Campus <span class="required">*</span></label>
              <select name="campus_id" id="evento-campus" required>
                <option value="">Cargando Campus...</option>
              </select>
            </div>
            <div class="form-group">
              <label for="evento-ubicacion-tipo">Tipo de Ubicación <span class="required">*</span></label>
              <select name="ubicacion_tipo" id="evento-ubicacion-tipo" required>
                <option value="">Selecciona...</option>
                <option value="Gimnasio">Gimnasio</option>
                <option value="Canchas internas">Canchas internas</option>
                <option value="Edificio facultad">Edificio de la facultad</option>
                <option value="Externo">Externo (Fuera del campus)</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="evento-lugar">Lugar Específico <span class="required">*</span></label>
            <input type="text" name="lugar" id="evento-lugar" required
                   placeholder="Ej: Cancha de futbol 2, Gimnasio UABC, etc.">
          </div>
        </div>

        <div class="form-section">
          <h3>Categorizacion del Evento</h3>
          <div class="form-grid">
            <div class="form-group">
              <label for="evento-tipo-actividad">Tipo de Actividad <span class="required">*</span></label>
              <select name="tipo_actividad" id="evento-tipo-actividad" required>
                <option value="">Selecciona...</option>
                <option value="Torneo">Torneo</option>
                <option value="Carrera">Carrera</option>
                <option value="Exhibición">Exhibición</option>
                <option value="Taller">Taller</option>
              </select>
            </div>
            <div class="form-group">
              <label for="evento-categoria">Categoria Deportiva <span class="required">*</span></label>
              <select name="categoria_deporte" id="evento-categoria" required>
                <option value="">Selecciona...</option>
                <option value="Fútbol">Fútbol</option>
                <option value="Fútbol Rápido">Fútbol Rápido</option>
                <option value="Voleibol">Voleibol</option>
                <option value="Básquetbol">Básquetbol</option>
                <option value="Handball">Handball</option>
                <option value="Carrera">Carrera</option>
                <option value="Otro">Otro</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label for="evento-tipo-registro">Tipo de Registro <span class="required">*</span></label>
            <select name="tipo_registro" id="evento-tipo-registro" required>
            <option value="">Selecciona...</option>  
            <option value="Individual">Individual (Inscripcion por persona)</option>  
            <option value="Por equipos">Por equipos (Inscripcion por equipo)</option>  
            </select>
            <p class="help-text">Si es "Por equipos", los participantes podrán formar equipos como minimo de 2 personas (Esto dependera del tipo de evento)</p>
          </div>
        </div>

        <div class="form-section">
          <h3>Configuracion Adicional</h3>
          <div class="form-grid">
            <div class="form-group">
              <label for="evento-actividad">Actividad Deportiva (Opcional)</label>
              <select name="actividad" id="evento-actividad">
                <option value="">Ninguna específica</option>
              </select>
              <p class="help-text">Relacionar con una actividad deportiva existente</p>
            </div>
            <div class="form-group">
              <label for="evento-cupo-maximo">Cupo Máximo (Opcional)</label>
              <input type="number" name="cupo_maximo" id="evento-cupo-maximo" min="1"
              placeholder="Ej: 50">
              <p class="help-text">Dejar vacío para sin límite</p>
            </div>
          </div>
        </div>

        <div class="form-section">
          <h3>Facultades Participantes</h3>
          <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
            Selecciona las facultades que pueden participar en este evento. Si no seleccionas ninguna, se asignarán todas automáticamente.
          </p>
          <div id="facultades-checkbox" class="facultadres-grid">
            <p>Cargando facultades...</p>
          </div>
        </div>

        <div class="admin-modal-botones">
          <button type="submit" class="admin-modal-btn-guardar">
            Guardar Evento
          </button>
          <button type="button" id="btnCancelar" class="admin-modal-btn-cancelar">
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Librería de QR -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <!-- Tu archivo JS -->
  <script src="../js/admin/gestEventos.js" type="module"></script>
  <script src="../js/headFooter.js"></script>
</body>
</html>